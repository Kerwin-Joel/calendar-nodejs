{"version":3,"sources":["helpers/fetch.js","types/types.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","actions/ui.js","helpers/prepareEvents.js","actions/events.js","components/ui/Navbar.js","helpers/calendar-messages.js","components/calendar/CalendarEvent.js","components/calendar/CalendarModal.js","components/ui/AddNewFab.js","components/ui/DeleteEventFab.js","components/calendar/CalendarScreen.js","components/Routers/PublicRoute.js","components/Routers/PrivateRoute.js","components/Routers/AppRouter.js","reducers/calendarReducer.js","reducers/uiReducer.js","reducers/authReducer.js","reducers/rootReducers.js","store/store.js","CalendarApp.js","index.js"],"names":["baseUrl","process","fetchWithOutToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchWithToken","token","localStorage","getItem","types","login","user","type","payload","checkingFinished","logout","useForm","initialState","useState","values","setValues","handleInputChange","target","name","value","reset","LoginScreen","dispatch","useDispatch","lEmail","lPassword","formLoginValues","handleLoginInputChange","rNombre","rCorreo","rPassword1","rPassword2","formRegisterValues","handleRegisterInputChange","className","onSubmit","e","email","password","preventDefault","a","response","json","ok","setItem","Date","getTime","uid","Swal","fire","message","placeholder","onChange","console","log","msg","uiOpenModal","uiCloseModal","prepareEvents","events","map","event","end","moment","toDate","start","otro","eventAddNew","eventUpdated","eventClearActiveEvent","eventDeleted","eventStartLoading","findEvents","eventLoaded","Navbar","useSelector","state","auth","onClick","clear","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","CalendarEvent","title","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowPlus1","clone","initEvent","notes","CalendarModal","modalOpen","ui","activeEvent","calendar","titleValid","setTitleValid","formValues","setFormValues","useEffect","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","momentStart","momentEnd","isSameOrAfter","trim","length","_id","id","error","getState","err","eventStartAddNew","minDate","autoComplete","rows","AddNewFab","DeleteEventFab","eventId","idEventActive","localizer","momentLocalizer","locale","CalendarScreen","lastview","setLastView","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","borderRadius","opacity","display","color","onDoubleClickEvent","onSelectEvent","eventSetActive","onView","view","onSelectSlot","selectable","components","PublicRoute","Component","component","isAuthenticated","rest","props","to","PrivateRoute","AppRouter","checking","height","width","secondaryColor","path","exact","rootReducers","combineReducers","action","filter","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9d37d6d6.chunk.js","sourcesContent":["\nconst baseUrl = process.env.REACT_APP_API_URL;\n\nconst fetchWithOutToken = (endpoint, data, method = 'GET') => {\n\n    const url = `${baseUrl}/${endpoint}`;\n\n    if (method === 'GET') {\n        return fetch(url)\n    }else{\n        return fetch(url, {\n            method: method,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data)\n        })\n    }\n\n}\n\nconst fetchWithToken = (endpoint,data,method='GET')=>{\n    const url = `${baseUrl}/${endpoint}`;\n    const token =  localStorage.getItem('token') || '';\n\n    if (method === 'GET'){\n        \n        return fetch(url,{\n            method,\n            headers:{\n                'x-token':token\n            }\n        })\n\n    }else{\n        return fetch(url,{\n            method,\n            headers:{\n                'Content-Type': 'application/json',\n                'x-token':token\n            },\n            body: JSON.stringify(data)\n        })\n    }\n}\n\nexport {\n    fetchWithOutToken,\n    fetchWithToken\n}","export const types = {\n    uiOpenModal: '[ui] Open modal',\n    uiCloseModal: '[ui] Close modal',\n\n    eventSetActive: '[event] Set Active',\n\n    eventStartNew: '[event] Start add new',\n    eventLogout: '[event] Logout clear',\n    eventAddNew: '[event] Add New',\n    eventClearActive: '[event] Clear Active',\n    eventUpdated: '[event] Event Updated',\n    eventDeleted: '[event] Event Delete',\n    eventLoaded: '[event] Event Loaded',\n\n    authCheckingFinish: '[auth] Finish checking login state',\n    authStartLogin: '[auth] Start login',\n    authLogin: '[auth] Login',\n    authStartRegister: '[auth] Start register',\n    authStartTokenRenew: '[auth] Start token renew',\n    authLogout: '[auth] Logout',\n}","import Swal from \"sweetalert2\"\nimport { fetchWithOutToken, fetchWithToken } from \"../helpers/fetch\"\nimport { types } from \"../types/types\"\n\nexport const startLogin = (email,password) => {\n    return async (dispatch) => {\n        const response = await fetchWithOutToken('auth', {email,password}, 'POST')\n        const body = await response.json()\n        if (body.ok) {\n            localStorage.setItem('token',body.token)\n            localStorage.setItem('token-init-date',new Date().getTime())\n            dispatch(login({\n                uid:body.uid,\n                name:body.name\n            }))\n        }else{\n            Swal.fire('Error',body.message,'error')\n        }\n\n    }\n}\n\nexport const login = (user)=>{\n    return {\n        type: types.authLogin,\n        payload:user\n    }\n}\n\nexport const startRegister = (name,email,password)=>{\n    return async(dispatch)=>{\n        const response = await fetchWithOutToken('auth/newUser',{name,email,password},'POST');\n        const body = await response.json();\n        console.log(body);\n        if (body.ok) {\n            localStorage.setItem('token',body.token);\n            localStorage.setItem('token-init-date',new Date().getTime());\n            dispatch(login({\n                uid:body.uid,\n                name:body.name,\n            }))\n            Swal.fire('Success',body.message,'success')\n        }else{\n            if (body.email?.msg) Swal.fire('Error',body.email.msg,'error')\n            if (body.name?.msg) Swal.fire('Error',body.name.msg,'error')\n            if (body.message) Swal.fire('Error','El usuario ya existe','error')\n        }\n    } \n}\n\nexport const startChecking = ()=>{\n    return async(dispatch)=>{\n        const body = await fetchWithToken('auth/renewToken')\n        const response = await body.json()\n        if (response.ok) {\n            const { name,uid } = response\n            dispatch(login({name,uid}))\n        }\n        else{\n            dispatch(checkingFinished())\n        }\n    }\n}\n\nexport const checkingFinished = ()=>{\n    return {\n        type: types.authCheckingFinish\n    }\n}\n\nexport const startLogout = ()=>{\n    return (dispatch)=>{\n        localStorage.clear();\n        dispatch(logout())\n    }\n}\n\nexport const logout = ()=>{\n    return {\n        type:types.authLogout, \n    }\n}","import { useState } from \"react\"\n\nexport const useForm = (initialState = {}) => {\n\n    const [values, setValues] = useState(initialState);\n\n    const handleInputChange = ({target}) => { // en vez del evento e, le pasamos el target desestructurado\n        setValues('')\n        setValues({\n            ...values,\n            //esto se lee como\n            //una key del objeto []\n            [target.name] : target.value\n        })\n    };\n    const reset = ()=>{\n        setValues(initialState)\n    }\n    return [values,handleInputChange,reset]\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport Swal from 'sweetalert2';\nimport { startLogin, startRegister } from '../../actions/auth';\nimport { useForm } from '../../hooks/useForm';\nimport './login.css';\n\nexport const LoginScreen = () => {\n\n    const dispatch = useDispatch()\n\n    //Login\n    const [ formLoginValues, handleLoginInputChange ] = useForm({\n        lEmail: 'kerwin@gmail.com',\n        lPassword: '123456'\n    })\n    const { lEmail,lPassword } = formLoginValues;\n\n    //Register\n    const [formRegisterValues, handleRegisterInputChange ] = useForm({\n        rNombre:'',\n        rCorreo:'',\n        rPassword1:'',\n        rPassword2:''\n    })\n    const { rNombre,rCorreo,rPassword1,rPassword2 } = formRegisterValues\n\n    const handleLogin = (e) => {\n        e.preventDefault();\n        dispatch(startLogin(lEmail,lPassword))\n    }\n    const handleRegister = (e) => {\n        e.preventDefault();\n        if (rPassword1 !== rPassword2) {\n            Swal.fire('Error','Las contraseñas no coinciden','error')\n        }else{\n            dispatch(startRegister(rNombre,rCorreo,rPassword1))\n        }\n    }\n\n    return (\n        <div className=\"container login-container\">\n            <div className=\"row\">\n                <div className=\"col-md-6 login-form-1\">\n                    <h3>Ingreso</h3>\n                    <form onSubmit={handleLogin}>\n                        <div className=\"form-group\">\n                            <input \n                                type=\"text\"\n                                className=\"form-control\"\n                                placeholder=\"Correo\"\n                                value={lEmail}\n                                name=\"lEmail\"\n                                onChange={handleLoginInputChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                className=\"form-control\"\n                                placeholder=\"Contraseña\"\n                                value={lPassword}\n                                name=\"lPassword\"\n                                onChange={handleLoginInputChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <input \n                                type=\"submit\"\n                                className=\"btnSubmit\"\n                                value=\"Login\" \n                            />\n                        </div>\n                    </form>\n                </div>\n\n                <div className=\"col-md-6 login-form-2\">\n                    <h3>Registro</h3>\n                    <form onSubmit={handleRegister}>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                placeholder=\"Nombre\"\n                                name=\"rNombre\"\n                                value={rNombre}\n                                onChange={handleRegisterInputChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"email\"\n                                className=\"form-control\"\n                                placeholder=\"Correo\"\n                                name=\"rCorreo\"\n                                value={rCorreo}\n                                onChange={handleRegisterInputChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                className=\"form-control\"\n                                placeholder=\"Contraseña\" \n                                name=\"rPassword1\"\n                                value={rPassword1}\n                                onChange={handleRegisterInputChange}\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                className=\"form-control\"\n                                placeholder=\"Repita la contraseña\" \n                                name=\"rPassword2\"\n                                value={rPassword2}\n                                onChange={handleRegisterInputChange}\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input \n                                type=\"submit\" \n                                className=\"btnSubmit\" \n                                value=\"Crear cuenta\" />\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}","import { types } from \"../types/types\"\n\nexport const uiOpenModal = () => ({type: types.uiOpenModal})\nexport const uiCloseModal = () => ({type: types.uiCloseModal})\n\n","import moment from \"moment\"\n\nexport const prepareEvents = (events)=>{\n    return events.map(event=>{\n        return {\n            ...event,\n            end: moment(event.end).toDate(),\n            start: moment(event.start).toDate(),\n            otro:'otro'\n        }\n    })\n\n}","import { types } from \"../types/types\"\nimport { fetchWithToken } from \"../helpers/fetch\"\nimport { prepareEvents } from \"../helpers/prepareEvents\"\nimport Swal from \"sweetalert2\"\n\nexport const eventStartAddNew = (event)=>{\n    return async(dispatch,getState)=>{\n\n        const { uid,name } = getState().auth\n\n        const response = await fetchWithToken('event',event,'POST')\n        const body = await response.json()\n\n        try {\n            if (body.ok) {\n                event.id = body.id\n                event.user = {\n                    _id:uid,\n                    name\n                }\n            }\n            dispatch(eventAddNew(event))\n        } catch (err) {\n            console.log(err);\n        }\n    }\n}\nconst eventAddNew = (event) => {\n    return {\n        type:types.eventAddNew,\n        payload:event\n    }\n}\nexport const eventSetActive = (event) => {\n    return {\n        type:types.eventSetActive,\n        payload:event\n    }\n}\nexport const eventStartUpdating = (event) =>{\n    return async(dispatch) =>{\n        const response = await fetchWithToken(`event/${event.id}`,event,'PUT')\n        const body = await response.json()\n        try {\n            dispatch(eventUpdated(event))\n            if (body.ok) {\n                Swal.fire('Success',`Evento actualizado`,'success')\n            }else{\n                Swal.fire('Error',`No se pudo actualizar el evento`,'error')\n            }\n        } catch (error) {\n            Swal.fire('Error',error,'error')\n        }\n    }\n}\nexport const eventUpdated = (event) => {\n    return {\n        type:types.eventUpdated,\n        payload:event\n    }\n}\nexport const eventClearActiveEvent = () => {\n    return {\n        type:types.eventClearActive,\n    }\n}\nexport const startDeleting = (idEventActive)=> {\n    return async (dispatch) => {\n        const body = await fetchWithToken(`event/${idEventActive}`,{},'DELETE');\n        try {\n            if (body.ok) {\n                dispatch(eventDeleted(idEventActive))\n                Swal.fire('Success',`Evento eliminado`,'success')\n            }else{\n                Swal.fire('Error',`No se pudo borrar el evento`,'error')\n            }\n        } catch (error) {\n            Swal.fire('Error',error,'error')\n        }\n\n    }\n}\nconst eventDeleted = (event) => {\n    return {\n        type:types.eventDeleted,\n        payload:event\n    }\n}\nexport const eventStartLoading = () => {\n    return async (dispatch) => {\n        const response = await fetchWithToken('event')\n        const body = await response.json()\n        const events = prepareEvents(body.findEvents);\n        dispatch(eventLoaded(events))\n    }\n    \n}\nconst eventLoaded = (event) => {\n    return{\n        type:types.eventLoaded,\n        payload:event\n    }\n}\nexport const eventLogout = () => {\n    return {\n        type:types.eventLogout,\n    }\n}\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { startLogout } from '../../actions/auth'\nimport { eventLogout } from '../../actions/events'\n\nexport const Navbar = () => {\n\n    const {name} = useSelector(state => state.auth)\n    const dispatch = useDispatch()\n    const handleLogout =()=>{\n        dispatch(startLogout())\n        dispatch(eventLogout())\n    }\n\n    return (\n        <div className=\"navbar navbar-dark bg-dark mb-4\">\n            <span className=\"navbar-brand\">\n                {name}\n            </span>\n            <button \n                className=\"btn btn-outline-danger\"\n                onClick={handleLogout}\n                >\n                <i className=\"fas fa-sign-out-alt\"></i>\n                <span>Salir</span>\n            </button>\n        </div>\n    )\n}\n","export const messages = {\n    allDay: 'Todo el día',\n    previous: '<',\n    next: '>',\n    today: 'Hoy',\n    month: 'Mes',\n    week: 'Semana',\n    day: 'Día',\n    agenda: 'Agenda',\n    date: 'Fecha',\n    time: 'Hora',\n    event: 'Evento',\n    noEventsInRange: 'No hay eventos en este rango',\n    showMore: total => `+ Ver más (${total})`\n};","import React from 'react'\n\nexport const CalendarEvent = ({event}) => {\n\n    const  {title,user} = event;\n\n    return (\n        <div>\n            <span>{title}</span>\n            <strong>-{user.name}</strong>\n        </div>\n    )\n}\n","import React, { useEffect, useState } from 'react'\n\nimport Modal from 'react-modal';\nimport DateTimePicker from 'react-datetime-picker';\nimport moment from 'moment';\nimport Swal from 'sweetalert2'\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uiCloseModal } from '../../actions/ui';\nimport { eventClearActiveEvent, eventStartAddNew, eventStartLoading, eventStartUpdating } from '../../actions/events';\n\nconst customStyles = {\n    content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)',\n    },\n};\n\nModal.setAppElement('#root');\n    const now = moment().minutes(0).seconds(0).add(1,'hours');\n    const nowPlus1 = now.clone().add(1,'hours');\n\n\n    const initEvent = {\n        title:'',\n        notes:'',\n        start:now.toDate(),\n        end:nowPlus1.toDate()\n    }\n\nexport const CalendarModal = () => {\n    \n\n    const { modalOpen } = useSelector(state => state.ui)\n    const { activeEvent } = useSelector(state => state.calendar)\n    const { uid } = useSelector(state => state.auth)\n    const dispatch = useDispatch()\n\n    const [titleValid, setTitleValid] = useState(true)\n    const [formValues, setFormValues] = useState(initEvent)\n    const { title,notes,start,end } = formValues\n\n    useEffect(() => {\n\n        if (activeEvent) {// el modal esta activo\n            setFormValues(activeEvent)\n        }else{\n            setFormValues(initEvent)\n        }\n    }, [activeEvent,dispatch])\n\n    const handleInputChange = ({target}) => {\n        setFormValues({\n            ...formValues,\n            [target.name]:target.value\n        })\n\n    }\n    useEffect(() => {\n        if (!modalOpen) dispatch(eventStartLoading())\n        if (modalOpen) dispatch(eventStartLoading())\n    }, [dispatch,modalOpen])\n\n    const closeModal = () => {\n        dispatch( uiCloseModal() )\n        dispatch(eventClearActiveEvent())\n        setFormValues(initEvent)\n    }\n\n    const handleStartDateChange  = (e) => {\n        setFormValues({\n            ...formValues,\n            start:e\n        })\n    }\n    const handleEndDateChange = (e) => {\n        setFormValues({\n            ...formValues,\n            end:e\n        })\n    }\n    const handleSubmitForm = (e) => {\n        e.preventDefault();\n        const momentStart = moment(start)\n        const momentEnd = moment(end)\n\n        if(momentStart.isSameOrAfter(momentEnd)){\n            Swal.fire('Error','La fecha fin debe ser mayor a la hora final','error')\n            return;\n        }\n        if(title.trim().length < 3){\n            return setTitleValid(false)\n        }\n\n        setTitleValid(true)\n        dispatch( uiCloseModal() )\n\n        if(activeEvent){\n            if(uid === activeEvent.user._id){\n                dispatch(eventStartUpdating(formValues))\n            }else{\n                Swal.fire('Error','No eres propietario del evento','error')\n            }\n        }else{\n            dispatch(eventStartAddNew(formValues))\n        }\n\n        setFormValues(initEvent)\n    }\n\n    return (\n        <Modal\n        isOpen={modalOpen}\n        // onAfterOpen={afterOpenModal}\n        onRequestClose={closeModal}\n        style={customStyles}\n        closeTimeoutMS={200}\n        className=\"modal\"\n        overlayClassName=\"modal-fondo\"\n        >\n            <h1> {activeEvent ? 'Actualizando evento' : 'Nuevo evento'} </h1>\n            <hr />\n            <form \n                className=\"container\"\n                onSubmit={handleSubmitForm}\n                >\n\n                <div className=\"form-group\">\n                    <label>Fecha y hora inicio</label>\n                    <DateTimePicker\n                        className=\"form-control\"\n                        onChange={handleStartDateChange}\n                        value={start}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Fecha y hora fin</label>\n                    <DateTimePicker\n                        className=\"form-control\"\n                        onChange={handleEndDateChange}\n                        value={end}\n                        minDate={start}\n                    />\n                </div>\n\n                <hr />\n                <div className=\"form-group\">\n                    <label>Titulo y notas</label>\n                    <input \n                        type=\"text\" \n                        className= {`form-control ${!titleValid ? 'is-invalid' : null}`}\n                        placeholder=\"Título del evento\"\n                        name=\"title\"\n                        autoComplete=\"off\"\n                        value={title}\n                        onChange={handleInputChange}\n                    />\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Una descripción corta</small>\n                </div>\n\n                <div className=\"form-group\">\n                    <textarea \n                        type=\"text\" \n                        className=\"form-control\"\n                        placeholder=\"Notas\"\n                        rows=\"5\"\n                        name=\"notes\"\n                        value={notes}\n                        onChange={handleInputChange}\n                    ></textarea>\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Información adicional</small>\n                </div>\n\n                <button\n                    type=\"submit\"\n                    className=\"btn btn-outline-primary btn-block\"\n                >\n                    <i className=\"far fa-save\"></i>\n                    <span> Guardar</span>\n                </button>\n            </form>\n        </Modal>\n    )\n}\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { eventClearActiveEvent} from '../../actions/events'\nimport { uiOpenModal } from '../../actions/ui'\n\nexport const AddNewFab = () => {\n\n    const dispatch = useDispatch()\n\n    const handleClickNew = () => {\n        dispatch(uiOpenModal())\n        dispatch(eventClearActiveEvent())\n    }\n    return (\n        <button\n            className='btn btn-primary fab'\n            onClick={handleClickNew}\n        >\n            <i className=\"fa fa-plus\"></i>\n        </button>\n    )\n}\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Swal from 'sweetalert2'\nimport { startDeleting } from '../../actions/events'\n\nexport const DeleteEventFab = () => {\n\n    const dispatch = useDispatch()\n\n    const eventId  = useSelector(state => state.calendar.activeEvent.id)\n    const { _id }  = useSelector(state => state.calendar.activeEvent.user)\n    const { uid }  = useSelector(state => state.auth)\n    \n    const handleDelete = () => {\n        if (_id === uid) dispatch(startDeleting(eventId))\n        else Swal.fire('Error','No tienes permiso','error')\n    }\n\n    return (\n        <button\n            className=\"btn btn-danger fab-danger\"\n            onClick={handleDelete}\n        >\n            <i className=\"fas fa-trash\"></i>\n            <span>Borrar evento</span>\n        </button>\n    )\n}\n","import React, { useEffect, useState } from 'react'\nimport {Calendar,momentLocalizer} from 'react-big-calendar'\nimport { useDispatch } from 'react-redux';\nimport { uiOpenModal } from '../../actions/ui';\nimport moment from 'moment'\nimport 'moment/locale/es'\nimport 'react-big-calendar/lib/css/react-big-calendar.css'\nimport { Navbar } from '../ui/Navbar'\nimport { messages } from '../../helpers/calendar-messages'\nimport { CalendarEvent } from './CalendarEvent'\nimport { CalendarModal } from './CalendarModal'\nimport { eventClearActiveEvent, eventSetActive, eventStartLoading } from '../../actions/events';\nimport { AddNewFab } from '../ui/AddNewFab';\nimport { useSelector } from 'react-redux';\nimport { DeleteEventFab } from '../ui/DeleteEventFab';\n\n\nconst localizer = momentLocalizer(moment) \nmoment.locale('es');\n\nexport const CalendarScreen = () => {\n\n    const dispatch = useDispatch()\n    const {uid} = useSelector(state => state.auth)\n    \n    const {events,activeEvent} = useSelector(state => state.calendar)\n    const {modalOpen} = useSelector(state => state.ui)\n\n    const [lastview, setLastView] = useState(localStorage.getItem('lastview') || 'week')\n\n    const eventStyleGetter = (event,start,end,isSelected) => { \n        const style = {\n            backgroundColor: (uid === event.user._id) ? '#367CF7' : '#894ffb',\n            borderRadius:'0px',\n            opacity:'0.8',\n            display:'block',\n            color:'white'\n        }\n\n        return {\n            style\n        }\n    }\n\n\n    useEffect(() => {\n        if (!modalOpen) dispatch(eventStartLoading())\n        if (modalOpen) dispatch(eventStartLoading())\n    }, [dispatch,modalOpen])\n\n        \n    const onDoubleClick= () => {\n        dispatch(uiOpenModal())\n    }\n    const onSelect= (event) => {\n        dispatch(eventSetActive(event))\n    }\n    const onViewChange = (e) => {\n        setLastView(e);\n        localStorage.setItem('lastview',e)\n    }\n    const  onSelectSlot = () => {\n        dispatch(eventClearActiveEvent())\n    }\n\n    \n\n    return (\n        <div className=\"calendar-screen\">\n            <Navbar/>\n            <div>\n                <Calendar\n                    events={events}\n                    startAccessor=\"start\"\n                    endAccessor=\"end\"\n                    localizer={localizer}\n                    messages={messages}\n                    eventPropGetter={eventStyleGetter}\n                    onDoubleClickEvent={onDoubleClick}\n                    onSelectEvent={onSelect}\n                    onView={onViewChange}\n                    view={lastview}\n                    onSelectSlot={onSelectSlot}\n                    selectable={true}\n                    components={{\n                        event:CalendarEvent\n                    }}\n                />\n            </div>\n            {\n                activeEvent && <DeleteEventFab/>\n            }\n            <AddNewFab/>\n            <CalendarModal/>\n        </div>\n    )\n}\n","import React from 'react';\nimport { Route,Redirect } from 'react-router-dom'\n\n\nexport const PublicRoute = ({component:Component,isAuthenticated,...rest}) => {\n\n    \n    return (\n        <Route\n            {...rest}\n            component={(props)=>(\n                isAuthenticated ?\n                    <Redirect to=\"/\"/>\n                        :\n                    <Component {...props} />\n            )}\n        />\n    )\n}\n","import React from 'react';\nimport { Route,Redirect } from 'react-router-dom'\n\n\nexport const PrivateRoute = ({component:Component,isAuthenticated,...rest}) => {\n\n    \n    return (\n        <Route\n            {...rest}\n            component={(props)=>(\n                isAuthenticated ?\n                    <Component {...props}  />\n                        :\n                    <Redirect to=\"/login\"/>\n            )}\n        />\n    )\n}\n","import React, { useEffect } from 'react'\nimport { useDispatch } from 'react-redux';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Redirect\n} from \"react-router-dom\";\nimport { startChecking } from '../../actions/auth';\nimport { LoginScreen } from '../auth/LoginScreen';\nimport { CalendarScreen } from '../calendar/CalendarScreen';\nimport { PublicRoute } from './PublicRoute';\nimport { PrivateRoute } from './PrivateRoute';\nimport { useSelector } from 'react-redux';\nimport Loader from 'react-loader-spinner';\n\n\nexport const AppRouter = () => {\n\n    const {uid,checking} = useSelector(state => state.auth)\n\n\n    const dispatch = useDispatch()\n    useEffect(() => {\n        dispatch(startChecking())\n    },[dispatch])\n    if (checking) {\n        return(\n            <Loader\n                className=\"loader\"\n                type=\"MutatingDots\"\n                color=\"#cc6000\"\n                height={100}\n                width={100}\n                secondaryColor=\"#85c2ff\"\n            />\n        )\n    }\n\n    return (\n        <Router>\n            <div>\n                <Switch>\n                    <PublicRoute isAuthenticated={!!uid} component={LoginScreen} path=\"/login\" exact/>\n                    <PrivateRoute isAuthenticated={!!uid} component={CalendarScreen} path=\"/\" exact/>\n                    <Redirect to='/'/>\n                </Switch>\n            </div>\n        </Router>\n    )\n}\n","import { types } from '../types/types'\n\n// {\n//     id:new Date().getTime(),\n//     title:'cumpleaños del jefe',\n//     notes:'comprar torta',\n//     start: moment().toDate(),\n//     end: moment().add(2,'hours').toDate(),\n//     bgcolor:'#fafafa',\n//     user: {\n//         _id: '123',\n//         name:'kerwin'\n//     }\n// }\nconst initialState={\n    events:[],\n    activeEvent:null\n}\n\nexport const calendarReducer = (state= initialState, action) => {\n    \n    switch (action.type) {\n        case types.eventSetActive:\n            return {\n                ...state,\n                activeEvent:action.payload\n            }\n        case types.eventAddNew:\n            return {\n                ...state,\n                events:[\n                    ...state.events,\n                    action.payload\n                ]\n            }\n        case types.eventClearActive:\n            return{\n                ...state,\n                activeEvent:null\n            }\n        case types.eventUpdated:\n            return{\n                ...state,\n                events:\n                    state.events.map(event=>\n                        event.id === action.payload.id ? action.payload : event\n                    ),\n                \n            }\n        case types.eventDeleted:\n            return{\n                ...state,\n                events:\n                    state.events.filter(event=> event.id !== action.payload),\n                activeEvent:null\n                \n            }\n        case types.eventLoaded:\n            return{\n                ...state,\n                events:[...action.payload]\n            }\n        case types.eventLogout:\n            return initialState\n            \n        default:\n            return state;\n    }\n\n}\n","import { types } from '../types/types'\n\nconst initialState={\n    modalOpen:false,\n}\n\nexport const uiReducer = (state= initialState, action) => {\n    \n    switch (action.type) {\n        case types.uiOpenModal:\n            return {\n                ...state,\n                modalOpen:true\n            }\n        case types.uiCloseModal:\n            return {\n                ...state,\n                modalOpen:false\n            }\n            \n        default:\n            return state;\n    }\n\n}\n","import { types } from '../types/types'\n\n\nconst initialState = {\n    checking: true,\n}\nexport const authReducer = (state = initialState, action) => {\n    switch (action.type) {\n\n        case types.authLogin:\n            return{\n                ...state,\n                checking:false,\n                ...action.payload\n            }\n        case types.authCheckingFinish:\n            return {\n                ...state,\n                checking:false\n            }\n        case types.authLogout:\n            return {\n                checking:false\n            }\n        default:\n            return state\n    }\n}","import {combineReducers} from \"redux\"\nimport { calendarReducer } from \"./calendarReducer\";\nimport { uiReducer } from \"./uiReducer\";\nimport { authReducer } from \"./authReducer\";\nexport const rootReducers = combineReducers({\n    ui:uiReducer,\n    calendar:calendarReducer,\n    auth:authReducer\n})","import { createStore,compose,applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { rootReducers } from \"../reducers/rootReducers\";\n\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\n\nexport const store = createStore(\n    rootReducers,\n    composeEnhancers(\n        applyMiddleware(thunk)\n    )\n);\n","import React from 'react'\nimport { Provider } from 'react-redux'\nimport { AppRouter } from './components/Routers/AppRouter'\nimport { store } from './store/store'\n\n\n\n\nexport const CalendarApp = () => {\n    return (\n        <Provider store={store}>\n            <AppRouter/>\n        </Provider>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CalendarApp } from './CalendarApp';\n\n\nimport './styles.css'\n\nReactDOM.render(\n    <CalendarApp />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}